import{_ as U,r as B,o as V,c,y as a,s as l,J as u,bk as x,z as r,V as b,A as m,N as _,W as C,H as p,L as e,Q as i,S as h,T as N,K as I}from"./app-oi9O8E9X.js";import{V as v,a as M}from"./VSlider-BX9Qpudk.js";import{a as y}from"./VCardItem-BHCAKo2z.js";import{V as R,a as k}from"./VRadioGroup-6tFFIrDM.js";import{V as g}from"./VCard-DgMtPtpx.js";import{V as w}from"./VCardTitle-hoq8eCTj.js";const A={name:"mycoperative-loan-create",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}),sheet:!1,text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2]}),methods:{fresh(){this.record={...this.record,transfermode:1,bank_type:null,bank_account_name:null,bank_account_number:null}},calculateLoanGrandTotal(s,n){n.total_principal=Math.round(n.total_principal*100)/100,n.percent_interest=n.percent_default*n.tenor,n.total_interest=Math.round(n.total_principal*(n.percent_default/100)*n.tenor*100)/100,n.monthly_interest=Math.round((n.total_principal/n.tenor+n.total_interest/n.tenor)*100)/100,n.grandtotal=Math.round(n.total_principal)+Math.round(n.admfee)+Math.round(n.total_interest)}}},D={class:"text-h5"},S={class:"text-h5"},G={class:"px-4"},L=e("small",null,"Cicilan per bulan",-1),P={class:"text-h6 mb-2"},j=e("br",null,null,-1),F=e("br",null,null,-1),K=e("td",null," Total Pokok Pinjaman ",-1),$=e("td",null,":",-1),z=e("td",null," Total Bunga [%] ",-1),H=e("td",null,":",-1),J=e("td",null," Total Bunga [Rp] ",-1),Q=e("td",null,":",-1),W=e("td",null,"Admin Fee",-1),q=e("td",null,":",-1),E=e("td",null,"Grand Total",-1),O=e("td",null,":",-1);function X(s,n,Y,Z,ll,f){const T=B("form-create");return V(),c(T,{"with-helpdesk":""},{default:a(({record:t,theme:d})=>[l(_,{class:"overline py-2 relative"},{default:a(()=>[l(u,{class:"py-2 mt-5 text-end",cols:"12"},{default:a(()=>[l(x,{modelValue:t.loan_type,"onUpdate:modelValue":o=>t.loan_type=o,color:d,rounded:"1",group:""},{default:a(()=>[l(r,{value:"personal"},{default:a(()=>[l(b,null,{default:a(()=>[m("person")]),_:1})]),_:1}),l(r,{value:"unit",disabled:!t.is_chief},{default:a(()=>[l(b,null,{default:a(()=>[m("apartment")]),_:1})]),_:2},1032,["disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),_:2},1024)]),_:2},1024),l(C),l(_,null,{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[e("div",D,i(s.formatter.format(t.total_principal)),1)]),_:2},1024),t.loan_type==="personal"?(V(),c(u,{key:0,cols:"12"},{default:a(()=>[l(v,{color:d,modelValue:t.total_principal,"onUpdate:modelValue":[o=>t.total_principal=o,o=>f.calculateLoanGrandTotal(o,t)],max:t.loan_maximal,min:t.loan_minimal,step:t.loan_step,"hide-details":""},null,8,["color","modelValue","onUpdate:modelValue","max","min","step"])]),_:2},1024)):(V(),c(u,{key:1,cols:"12"},{default:a(()=>[l(h,{label:"Nominal Pinjaman",type:"number",modelValue:t.total_principal,"onUpdate:modelValue":o=>t.total_principal=o,onKeyup:o=>f.calculateLoanGrandTotal(o,t)},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1024))]),_:2},1024)]),_:2},1024),l(y,{class:"overline"},{default:a(()=>[m("Tenor")]),_:1}),l(_,{class:"pt-0"},{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[e("div",S,i(t.tenor)+"x",1)]),_:2},1024),l(u,{cols:"12"},{default:a(()=>[l(v,{color:d,max:t.loan_tenor_maximal,min:t.loan_tenor_minimal,step:1,modelValue:t.tenor,"onUpdate:modelValue":[o=>t.tenor=o,o=>f.calculateLoanGrandTotal(o,t)],"hide-details":""},null,8,["color","max","min","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(y,{class:"overline"}),l(_,{class:"pt-0"}),l(y,{class:"overline"},{default:a(()=>[m("Metode pembayaran")]),_:1}),l(_,{class:"pt-0"},{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[l(R,{modelValue:t.transfermode,"onUpdate:modelValue":o=>t.transfermode=o,"hide-details":"",column:""},{default:a(()=>[l(k,{label:"CASH",value:1,color:d},null,8,["color"]),l(k,{label:"BANK",value:2,color:d},null,8,["color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(p,{class:"mt-10"},{default:a(()=>[l(u,{cols:"4"},{default:a(()=>[l(N,{disabled:t.transfermode===1,items:["BRI","BCA","BNI","BTPN","MANDIRI"],label:"Bank",modelValue:t.bank_type,"onUpdate:modelValue":o=>t.bank_type=o,"hide-details":"",variant:"outlined",color:d},null,8,["disabled","modelValue","onUpdate:modelValue","color"])]),_:2},1024),l(u,{cols:"8"},{default:a(()=>[l(h,{disabled:t.transfermode===1,label:"Atas Nama",modelValue:t.bank_account_name,"onUpdate:modelValue":o=>t.bank_account_name=o,"hide-details":"",variant:"outlined",color:d},null,8,["disabled","modelValue","onUpdate:modelValue","color"])]),_:2},1024),l(u,{cols:"12"},{default:a(()=>[l(h,{disabled:t.transfermode===1,label:"Nomor Rekening",modelValue:t.bank_account_number,"onUpdate:modelValue":o=>t.bank_account_number=o,variant:"outlined",color:d},null,8,["disabled","modelValue","onUpdate:modelValue","color"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(g,{flat:"",class:"position-sticky bottom-0 w-100"},{default:a(()=>[e("div",G,[L,l(r,{icon:"",onClick:n[0]||(n[0]=o=>s.sheet=!s.sheet),variant:"text",size:"small"},{default:a(()=>[l(b,null,{default:a(()=>[m("arrow_drop_up")]),_:1})]),_:1}),e("div",P,i(s.formatter.format(t.monthly_interest)),1),l(M,{modelValue:s.sheet,"onUpdate:modelValue":n[2]||(n[2]=o=>s.sheet=o),inset:s.$vuetify.display.width>=600},{default:a(()=>[l(g,{style:{"border-top-left-radius":"25px","border-top-right-radius":"25px"}},{default:a(()=>[l(_,null,{default:a(()=>[l(r,{variant:"text",onClick:n[1]||(n[1]=o=>s.sheet=!s.sheet),class:"text-end"},{default:a(()=>[m(" close ")]),_:1}),j,F,l(w,null,{default:a(()=>[m("Detals Pinjaman")]),_:1}),e("div",null,[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[l(I,null,{default:a(()=>[e("tbody",null,[e("tr",null,[K,$,e("td",null,i(s.formatter.format(t.total_principal)),1)]),e("tr",null,[z,H,e("td",null,i(t.percent_interest)+"% ",1)]),e("tr",null,[J,Q,e("td",null,i(s.formatter.format(t.total_interest)),1)]),e("tr",null,[W,q,e("td",null,i(s.formatter.format(t.admfee)),1)]),e("tr",null,[E,O,e("td",null,i(s.formatter.format(t.grandtotal)),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","inset"])])]),_:2},1024)]),_:1})}const ul=U(A,[["render",X]]);export{ul as default};
